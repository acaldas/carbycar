<html>

<head>
    <%- include("../partials/head.html") -%>
        <script type="text/javascript" src="https://code.jquery.com/jquery-1.10.2.min.js"></script>
        <script type="text/javascript" src="/scripts/lib/locationpicker.jquery.js"></script>
        <script type="text/javascript" src="/scripts/route.js" async defer></script>
</head>

<body>
    <%- include("../partials/header.html") -%>
        <div class="content">
            <dl class="route">
                <dt>Condutor</dt>
                <dd>
                    <%= route.driver %>
                </dd>
                <dt>Viatura</dt>
                <dd>
                    <%= route.vehicle %</dd>
                <dt>Hora</dt>
                <dd><%= route.time %</dd>
                <dt>Dias</dt>
                <dd><% for(var index = 0; index < route.days; index++) {%>
                        let day = route.days[index];
                        <span class="day">
                            <%=day%>
                        </span>
                        <%}%>
                </dd>
                <dt>Lugares disponíveis</dt>
                <dd>
                    <%= route.vehicle %</dd>
            </dl>

        <div class="form-field">
            <label for="seats">Lugares disponíveis</label>
            <input type="number" name="seats" value="<%= route.seats || 1 %>" required="true" min="1" max="99" class="
                        <% if ('seats' in errors) { %>invalid
                            <% } %>">
        </div>
        <div class="form-field">
            <label for="location">Origem</label>
            <input name="locationText" value="<%= route.locationText %>" required="true" class="location-input <% if ('location' in errors) { %>invalid<% } %>"
            />
            <input name="locationLatitude" value="<%= route.locationLatitude %>" class="hidden" />
            <input name="locationLongitude" value="<%= route.locationLongitude %>" class="hidden" />
            <p class="location-help">Arraste o marcador para a sua localização:</p>
            <div class="location-picker" id="location-picker"></div>
        </div>
        <input type="submit" value="Partilhar">
        </div>
        <%- include("../partials/footer.html") -%>
</body>

</html>